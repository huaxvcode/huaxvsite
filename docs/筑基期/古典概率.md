---
title: 古典概率
header-includes:
 - \usepackage{fvextra}
 - \DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,commandchars=\\\{\}}
output:
  pdf_document:
    latex_engine: xelatex
    toc: true
    template: C:/Huaxv/Huaxv-Tool/markdown-preview=enhanced/template.tex
    highlight: tango
    path: C:/Users/huaxv/Desktop/古典概率.pdf
---

# 古典概率

从 $n$ 个不同的物件中取 $r$ 个的不同排列总数是多少？

> 从 $n$ 个中取 $r$ 个有 $C^n_r$ 种取法
>
> 对 $r$ 个进行排列有 $r!$ 种排列方法

$$
ans=P^n_r=\frac{n!}{(n-r)!}
$$

---

从 $n$ 个不同的物件中选 $r$ 个，有多种不同的取法？

$$
ans=C^n_r=\frac{n!}{r!(n - r)!}
$$

---

将 $n$ 个不同的物件分成 $k$ 堆，各堆物件数分别是：$r_1, r_2, \cdots, r_k$，有多少种分法？

![k堆图片](./img/k堆图片.png)

> 想象成 $n$ 个座位，其中第 $r_i$ 与 $r_{i + 1}$ 座位之间有隔道，那么对 $n$ 个学生全排列有 $n!$ 种排列方法，对于每一种排列方法，会产生 $r_1!r_2! \cdots r_k!$ 种重复，所以实际上不同的分堆种类有：

$$
\frac{n!}{r_1! r_2! \cdots r_k!}
$$

---

有 $N$ 个产品，其中有 $M$ 个废品，现从中取出 $n$ 个，问这 $n$ 个中存在 $m$ 个废品的概率是多少？

> 总共有 $C^N_n$ 种取法，取出 $m$ 个废品，这 $m$ 个废品的组合有 $C^M_m$ 种，剩下需要从 $N - M$ 中取出 $n - m$ 个产品，有 $C^{N-M}_{n-m}$ 种取法，所以答案为：

$$
\frac{C^M_m C^{N-M}_{n-m}}{C^N_n}
$$

---

有 $n$ 双不同的鞋，现在需要你随机分成 $n$ 堆，每堆有 $2$ 个鞋子，问每一堆鞋都自成一对的概率是多少？

> 总共有 $2n$ 个位置，有 $(2n)!$ 种随机排列方法；
>
> 总共有 $n$ 双鞋，有 $n!$ 种排列方法，由于每一堆都有 $2!$ 排列方法，所以总共有 $n!2^n$ 种可以自成一对的排列方法，概率为：

$$
\frac{n!2^n}{(2n)!}
$$

---

有 $n$ 个男孩，$m$ 个女孩随机的排成一列，其中 $m \leq (n + 1)$，问任意两个女孩都不相邻的概率是多少？

> 有 $n$ 个男孩，就有 $n + 1$ 个空位，从 $n + 1$ 个空位中选出 $m$ 个给女生坐，而这 $m$ 个女生又可以有 $m$ 种不同的排列方法，所以女生总共有 $C^{n + 1}_m * m!$ 种坐法
>
> 对于第一个女生可以选择 $n + 1$ 个座位，第二个女生可以选择 $n + 2$ 个座位，一直到第 $m$ 个女生可以选择 $n + m$ 个座位，所以总共有 $(n+1)(n+2)\cdots(n+m)=\frac{(n+m)!}{n!}$ 种选法
>
> 概率为：

$$
\frac{C^{n+1}_{m} * m!}{\frac{(n+m)!}{n!}}=\frac{C^{n+1}_{m}}{C^{n+m}_{m}}
$$

另外一种理解方法：

> 先对这 $n$ 个男生自由排列，有 $n!$ 种排列方式，然后在 $n + 1$ 个位置中选出 $m$ 个位置自由排列，有 $P^{n+1}_{m}$ 种排列方式，所以女生互不相邻的排列方式有 $n!P^{n+1}_{m}$ 种
>
> 事件总和为 $n + m$ 个孩子的自由组合，有 $(n+m)!$ 种排列方式，所以概率为：

$$
\frac{n!P^{n+1}_{m}}{(n+m)!}=\frac{C^{n+1}_{m}}{C^{n+m}_{m}}
$$
